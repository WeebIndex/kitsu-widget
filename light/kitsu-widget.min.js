ready(start);function ready(a){if(document.readyState!="loading"){a()}else{document.addEventListener("DOMContentLoaded",a)}}function start(){appendToWidget("body","style","","@import url(https://fonts.googleapis.com/css?family=Noto+Sans:400,700);.ki-widget-container{text-align:center;display:flex;flex-direction:row;flex-wrap:wrap;margin:0 auto;align-items:center;justify-content:center;color:#333;font-family:'Noto Sans',sans-serif;background-color:#fff}.ki-widget-personal-details .bio, .ki-widget-stats .count{color:#FD8320}.kitsu-widget{border-radius:1%;border:1px solid #e2e2e2;max-width:380px}.ki-widget-item{flex:1;padding:4px}.ki-widget-photo{flex:2;padding-top:10px;}.ki-widget-photo img{border-radius:100%;max-width:100px}.ki-widget-photo img:hover{opacity:0.8}.ki-widget-personal-details{flex:6}.ki-widget-personal-details .full-name{font-size:1.5em;line-height:1.5em}.ki-widget-personal-details .ki-widget-stats .count{font-size:1.2em;font-weight:700}.ki-widget-hr{border:1px solid #e2e2e2}.ki-widget-link{color:#FD8320}.ki-widget-follow button{width:100%;height:2em;border:none;background:#ddd}");var c=document.querySelectorAll(".kitsu-widget");for(var b=0;b<c.length;b++){var a=c[b];a.setAttribute("id","widget"+b);appendToWidget("#widget"+b,"div","",'<div class="ki-widget-container"><div class="ki-widget-item ki-widget-photo"></div></div><div class="ki-widget-container"><div style="padding-bottom:15px" class="ki-widget-item ki-widget-personal-details"></div></div><div class="ki-widget-hr"></div><div class="ki-widget-container ki-widget-stats" style="padding:15px"></div>');var d=a.dataset.username;fetchUserDetails(d,"#widget"+b)}}function appendToWidget(f,b,e,d){var a=document.querySelector(f);var c=document.createElement(b);c.innerHTML=d;c.className+=e;a.appendChild(c)}function getJSON(a,c){var b=new XMLHttpRequest();b.open("GET",a,true);b.onload=function(){if(b.status===200){var d=JSON.parse(b.responseText);c(d)}};b.send()}function fetchUserDetails(c,b){var a="https://kitsu.io/api/edge/users?filter[name]="+c;getJSON(a,function(d){updateUserDetails(d,b)})}function updateUserDetails(a,b){const c=a.data[0];if(c.attributes.gender==="secret"){c.attributes.gender="N/A"}if(c.attributes.gender==="male"){c.attributes.gender="Male"}if(c.attributes.gender==="female"){c.attributes.gender="Female"}appendToWidget(b+" .ki-widget-photo","span","",'<a target="_blank" href="https://kitsu.io/users/'+c.id+'"><img src="'+c.attributes.avatar.medium+'"></a>');appendToWidget(b+" .ki-widget-personal-details","div","full-name",c.attributes.name);if(c.attributes.about){appendToWidget(b+" .ki-widget-personal-details","div","bio",c.attributes.about)}appendToWidget(b+" .ki-widget-stats","div","ki-widget-item",'<div class="count">'+c.attributes.followersCount+'</div><div class="stat-name">Followers</div>');appendToWidget(b+" .ki-widget-stats","div","ki-widget-item",'<div class="count">'+c.attributes.reviewsCount+'</div><div class="stat-name">Reviews</div>');appendToWidget(b+" .ki-widget-stats","div","ki-widget-item",'<div class="count">'+c.attributes.favoritesCount+'</div><div class="stat-name">Favorites</div>');appendToWidget(b+" .ki-widget-stats","div","ki-widget-item",'<div class="count">'+c.attributes.mediaReactionsCount+'</div><div class="stat-name">Reactions</div>');appendToWidget(b+" .ki-widget-stats","div","ki-widget-item",'<div class="count">'+c.attributes.followingCount+'</div><div class="stat-name">Following</div>');appendToWidget(b+" .ki-widget-stats","div","ki-widget-item",'<div class="count">'+c.attributes.postsCount+'</div><div class="stat-name">Posts</div>');appendToWidget(b+" .ki-widget-stats","div","ki-widget-item",'<div class="count">'+c.attributes.ratingsCount+'</div><div class="stat-name">Ratings</div>');appendToWidget(b+" .ki-widget-stats","div","ki-widget-item",'<div class="count">'+c.attributes.commentsCount+'</div><div class="stat-name">Comments</div>');appendToWidget(b+" .ki-widget-stats","div","ki-widget-item",'<div style="padding-top:10px" class="count">'+c.attributes.location+'</div><div class="stat-name">Location</div>');appendToWidget(b+" .ki-widget-stats","div","ki-widget-item",'<div style="padding-top:10px" class="count">'+c.attributes.gender+'</div><div class="stat-name">Gender</div>')};